(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details/goodsDetails"],{2525:function(t,e,n){"use strict";n.r(e);var o=n("379c"),i=n("34cf");for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("3d44");var r,s=n("f0c5"),u=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"74d84bd6",null,!1,o["a"],r);e["default"]=u.exports},"34cf":function(t,e,n){"use strict";n.r(e);var o=n("a208"),i=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},"379c":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}));var o={bbsCountdown:function(){return n.e("components/bbs-countdown/bbs-countdown").then(n.bind(null,"c312"))},jyfParser:function(){return Promise.all([n.e("common/vendor"),n.e("components/jyf-parser/jyf-parser")]).then(n.bind(null,"f9bf"))},uniGoodsNav:function(){return n.e("components/uni-goods-nav/uni-goods-nav").then(n.bind(null,"2b01"))},hchPoster:function(){return Promise.all([n.e("common/vendor"),n.e("components/hch-poster/hch-poster")]).then(n.bind(null,"1778"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,1!=t.type&&2!=t.type||1!=t.type?null:t._f("parsePrice")(t.dataobject.price)),o=1!=t.type&&2!=t.type||1!=t.type?null:t._f("parsePrice")(t.dataobject.old_price),i=1==t.type||5!=t.type&&3!=t.type&&2!=t.type?null:t._f("parsePrice")(t.dataobject.price),c=1!=t.type?t._f("parsePrice")(t.dataobject.old_price):null;t.$mp.data=Object.assign({},{$root:{f0:n,f1:o,f2:i,f3:c}})},c=[]},"3d44":function(t,e,n){"use strict";var o=n("cdb7"),i=n.n(o);i.a},a208:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){n.e("components/mycom/goods-swiper").then(function(){return resolve(n("b2a0"))}.bind(null,n)).catch(n.oe)},i=function(){Promise.all([n.e("common/vendor"),n.e("components/jyf-parser/jyf-parser")]).then(function(){return resolve(n("f9bf"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/uni-number-box/uni-number-box").then(function(){return resolve(n("f69c"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/mycom/eva-product-List").then(function(){return resolve(n("0547"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/mycom/group-item-info").then(function(){return resolve(n("19fd"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/uni-goods-nav/group-goods-nav").then(function(){return resolve(n("8c93"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("components/uni-goods-nav/goods-nav").then(function(){return resolve(n("18d6"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/mycom/sharePounp").then(function(){return resolve(n("d69b"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/uni-goods-nav/uni-goods-nav").then(function(){return resolve(n("2b01"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/mycom/one-sku-swiper").then(function(){return resolve(n("f303"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/mycom/homePoup").then(function(){return resolve(n("ae97"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/mycom/homeList").then(function(){return resolve(n("5d06"))}.bind(null,n)).catch(n.oe)},m=function(){Promise.all([n.e("common/vendor"),n.e("components/hch-poster/hch-poster")]).then(function(){return resolve(n("1778"))}.bind(null,n)).catch(n.oe)},g=function(){n.e("components/uni-goods-nav/more-group-nav").then(function(){return resolve(n("2edc"))}.bind(null,n)).catch(n.oe)},y=function(){n.e("components/mycom/more-number-swiper").then(function(){return resolve(n("7b76"))}.bind(null,n)).catch(n.oe)},b={components:{hchPoster:m,goodsSwiper:o,goodsNav:a,goodsPounp:l,jyfParser:i,uniNumberBox:c,evaProductList:r,groupItemInfo:s,groupGoodsNav:u,sharePounp:d,uniGoodsNav:p,oneSkuSwiper:h,homeList:f,moreGroupNav:g,moreGroupSku:y},data:function(){return{flag:0,text:"",id:"",type:0,content:"",showLoading:!0,qty:1,send_type:0,creatGroup:0,currentGroup:{},currentobj:{title:"",price:"",old_price:"",stock:""},groupId:"",storeActivity:[],dataobject:{type:4,title:"",merchantphone:"",merchanttype:"",customerphone:"",collcet:1,price:"",vipprice:"",point:"",sypoint:"",icon:"",virtual:"",group_number:"",primary:"",start_time:"",end_time:"",sales:"",content:"",old_price:"",stocks:"",commentNumber:0,categoryName:"",images:[],skuList:[]},dataList:[]}},onLoad:function(t){this.type=t.type,this.id=t.id,5==this.type&&this.getStoreActivity(),this.getUserBuyType()},onShow:function(){this.getGoodsDetails()},methods:{getUserBuyType:function(){2!=t.getStorageSync("open")?t.getStorageSync("defaultValue")&&(0==t.getStorageSync("defaultValue")?this.send_type=2:this.send_type=1):this.send_type=3},phoneOptions:function(){this.$api.callPhone(this.dataobject.customerphone)},toggleSpec:function(){4!=this.type&&(6!=this.type?(this.flag=1,this.$refs["oneSKuSwiper"].open()):this.$refs["moreGroupSku"].open())},choseSku:function(t){this.currentobj=t,this.flag=1},choseGroupNumber:function(t){this.currentGroup=t,this.creatGroup=1},changeNum:function(t){this.qty=t},getStoreActivity:function(){var e=this,n={cmd:"getMerchantReductionList",id:this.id,type:this.type,merchantId:t.getStorageSync("merchantId")};this._reqw.post(n).then((function(t){0==t.result?e.storeActivity=t.body.merchantReductionList:e.$api.tip(t.resultNote)})).catch((function(t){}))},userLike:function(e){this.id=e.id,this.type=e.type,this.getGoodsDetails(),t.pageScrollTo({scrollTop:0,duration:30})},getGoodsDetails:function(){var e=this;this.$api.loading("加载中...");var n={cmd:"getProductById",merchantId:t.getStorageSync("merchantId"),uid:t.getStorageSync("uid"),type:this.type,id:this.id};this._reqw.post(n).then((function(n){t.hideLoading(),0==n.result?(e.dataobject=n.body,e.content=e.$api.formText(n.body.content)):e.$api.tip(n.resultNote)})).catch((function(t){}))},lookMoreGroup:function(){this.$refs["groupItemInfo"].open()},userAddpurch:function(e){t.getStorageSync("uid")?1==e.group?this.$api.tip("已经参加该团!"):(this.groupId=e.id,this.buyGoodsItem(this.type)):this.$api.navTo("/pages/index/author")},morebuttonClick:function(e){t.getStorageSync("uid")?0==e.index?this.buyGoodsItem(6):0==this.creatGroup?this.$refs["moreGroupSku"].open():this.buyGoodsItem(7):this.$api.navTo("/pages/index/author")},itemClick:function(t){console.log(t),0==t.index?this.$api.switchTab("/pages/tabs/cart"):this.$refs.sharePounp.open()},shareClick:function(t){console.log(t),0==t&&this.$refs["hchPoster"].open()},buttonClick:function(e){console.log(this.type,e),t.getStorageSync("uid")?0==this.flag?this.$refs["oneSKuSwiper"].open():5==this.type||2==this.type||3==this.type?0==e.index?this.addCartItem():this.buyGoodsItem(this.type):1==this.type&&0==e.index?this.buyGoodsItem(6):this.buyGoodsItem(this.type):this.$api.navTo("/pages/index/author")},addCartItem:function(){var e=this;this.$api.loading("提交中...");var n={cmd:"addCart",uid:t.getStorageSync("uid"),merchantId:t.getStorageSync("merchantId"),type:this.send_type,skuId:this.currentobj.id,count:this.qty};this._reqw.post(n).then((function(n){t.hideLoading(),e.$api.tip(n.resultNote)})).catch((function(t){}))},userStoreItem:function(){var e=this;if(t.getStorageSync("uid")){this.$api.loading("提交中...");var n="",o=0;1==this.dataobject.collcet?(n="取消",o=2):(n="收藏",o=1);var i={cmd:"collectProduct",uid:t.getStorageSync("uid"),id:this.id};this._reqw.post(i).then((function(i){t.hideLoading(),0==i.result?(e.$api.tip("".concat(n,"成功!")),e.dataobject.collcet=o):e.$api.tip(i.resultNote)})).catch((function(t){}))}else this.$api.navTo("/pages/index/author")},buyGoodsItem:function(e){if(t.getStorageSync("uid")){console.log(this.currentobj);var n=[],o={product_id:this.id,skuid:this.currentobj.id,title:this.dataobject.title,qty:this.qty,stock:this.currentobj.stock,name:this.currentobj.title,price:6==e||4==e?this.dataobject.old_price:7==e?this.currentGroup.price:this.currentobj.price,image:this.dataobject.icon,setId:this.currentGroup.id||""};n.push(o),1==this.type?this.$api.navTo("/pages/order/creatOrder?goods=".concat(encodeURIComponent(JSON.stringify(n)),"&type=").concat(e,"&id=").concat(this.groupId)):this.$api.navTo("/pages/order/creatOrder?goods=".concat(encodeURIComponent(JSON.stringify(n)),"&type=").concat(e))}else this.$api.navTo("/pages/index/author")},downOrUpGoods:function(){t.getStorageSync("uid")?this.dataobject.sypoint>=this.dataobject.point?this.$refs.goodsPounp.open():this.$api.tip("积分不足"):this.$api.navTo("/pages/index/author")}},onShareAppMessage:function(){return this.$refs.oneSKuSwiper.hide(),this.$refs.sharePounp.hide(),{title:this.dataobject.title,path:"/pages/sharepage/shareDetails?id=".concat(this.id,"&type=").concat(this.type)}}};e.default=b}).call(this,n("543d")["default"])},c17c:function(t,e,n){"use strict";(function(t){n("b4b3");o(n("66fd"));var e=o(n("2525"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},cdb7:function(t,e,n){}},[["c17c","common/runtime","common/vendor"]]]);