(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mineoptions/massagedetails","components/jyf-parser/jyf-parser"],{"0157":function(t,e,n){"use strict";n.r(e);var i=n("642d"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a},"20ea":function(t,e,n){"use strict";n.r(e);var i=n("525a"),r=n("0157");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("b20f");var a,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"6ca8d65c",null,!1,i["a"],a);e["default"]=c.exports},"525a":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={jyfParser:function(){return Promise.resolve().then(n.bind(null,"f9bf"))}},r=function(){var t=this,e=t.$createElement;t._self._c},o=[]},6176:function(t,e,n){},"642d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(n("f9bf"));function i(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{content:""}},onLoad:function(t){this.$api.setNav(t.title),this.content=decodeURIComponent(t.content)}};e.default=r},"874e":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement;t._self._c},o=[]},b20f:function(t,e,n){"use strict";var i=n("6176"),r=n.n(i);r.a},b742:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=function(){n.e("components/jyf-parser/libs/trees").then(function(){return resolve(n("2f9e"))}.bind(null,n)).catch(n.oe)},o={},a=t.getFileSystemManager?t.getFileSystemManager():null,s=n("3eb7");function c(t){for(var e=t.length,n=5381;e--;)n+=(n<<5)+t.charCodeAt(e);return n}var l={name:"parser",data:function(){return{showAm:"",imgs:[],nodes:[]}},components:{trees:r},props:{html:null,autopause:{type:Boolean,default:!0},autoscroll:Boolean,autosetTitle:{type:Boolean,default:!0},compress:Number,useCache:Boolean,domain:String,lazyLoad:Boolean,selectable:Boolean,tagStyle:Object,showWithAnimation:Boolean,useAnchor:Boolean},watch:{html:function(t){this.setContent(t)}},mounted:function(){this.imgList=[],this.imgList.each=function(t){for(var e=0,n=this.length;e<n;e++)this.setItem(e,t(this[e],e,this))},this.imgList.setItem=function(t,e){var n=this;if(void 0!=t&&e){if(0==e.indexOf("http")&&this.includes(e)){for(var i,r="",o=0;i=e[o];o++){if("/"==i&&"/"!=e[o-1]&&"/"!=e[o+1])break;r+=Math.random()>.5?i.toUpperCase():i}return r+=e.substr(o),this[t]=r}if(this[t]=e,e.includes("data:image")){var s,c=e.match(/data:image\/(\S+?);(\S+?),(.+)/);if(!c)return;s="".concat(wx.env.USER_DATA_PATH,"/").concat(Date.now(),".").concat(c[1]),a&&a.writeFile({filePath:s,data:c[3],encoding:c[2],success:function(){return n[t]=s}})}}},i&&(this.document=new i(this)),this.html&&this.setContent(this.html)},beforeDestroy:function(){this.imgList&&(this.imgList.each((function(e){e&&e.includes(t.env.USER_DATA_PATH)&&a&&a.unlink({filePath:e})})),clearInterval(this._timer))},methods:{setContent:function(e,n){var i,r,a=this;if(!e)return this.nodes=[];if("string"==typeof e){var l=new s(e,this);if(this.useCache){var u=c(e);o[u]?i=o[u]:(i=l.parse(),o[u]=i)}else i=l.parse();this.$emit("parse",i)}else if("[object Array]"==Object.prototype.toString.call(e)){if(e.length&&"Parser"!=e[0].PoweredBy){var f=new s(e,this);(function t(e){for(var n,i=0;n=e[i];i++)if("text"!=n.type){for(var r in n.attrs=n.attrs||{},n.attrs)"string"!=typeof n.attrs[r]&&(n.attrs[r]=n.attrs[r].toString());f.matchAttr(n,f),n.children&&n.children.length?(f.STACK.push(n),t(n.children),f.popNode(f.STACK.pop())):n.children=void 0}})(e)}i=e}else{if("object"!=typeof e||!e.nodes)return console.warn("错误的 html 类型："+typeof e);i=e.nodes,console.warn("错误的 html 类型：object 类型已废弃")}this.nodes=n?this.nodes.concat(i):i,i.length&&i[0].title&&this.autosetTitle&&t.setNavigationBarTitle({title:i[0].title}),this.$nextTick((function(){a.imgList.length=0,a.videoContexts=[],a.$emit("load")})),clearInterval(this._timer),this._timer=setInterval((function(){a.createSelectorQuery().select("#top").boundingClientRect().exec((function(t){a.rect=t[0],a.rect.height==r&&(a.$emit("ready",a.rect),clearInterval(a._timer)),r=a.rect.height}))}),350),this.showWithAnimation&&!n&&(this.showAm="animation:show .5s")},getText:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.nodes,n="",i=0;t=e[i++];)if("text"==t.type)n+=t.text.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");else if("br"==t.type)n+="\n";else{var r="p"==t.name||"div"==t.name||"tr"==t.name||"li"==t.name||"h"==t.name[0]&&t.name[1]>"0"&&t.name[1]<"7";r&&n&&"\n"!=n[n.length-1]&&(n+="\n"),t.children&&(n+=this.getText(t.children)),r&&"\n"!=n[n.length-1]?n+="\n":"td"!=t.name&&"th"!=t.name||(n+="\t")}return n},navigateTo:function(e){var n=this;if(!this.useAnchor)return e.fail&&e.fail({errMsg:"Anchor is disabled"});var i=function(i,r){t.createSelectorQuery().in(r||n).select(i).boundingClientRect().selectViewport().scrollOffset().exec((function(n){if(!n||!n[0])return e.fail&&e.fail({errMsg:"Label not found"});e.scrollTop=n[1].scrollTop+n[0].top+(e.offset||0),t.pageScrollTo(e)}))};e.id?i("#top >>> #"+e.id+", #top >>> ."+e.id):i("#top")},getVideoContext:function(t){if(!t)return this.videoContexts;for(var e=this.videoContexts.length;e--;)if(this.videoContexts[e].id==t)return this.videoContexts[e]}}};e.default=l}).call(this,n("543d")["default"])},b774:function(t,e,n){"use strict";n.r(e);var i=n("b742"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a},b7ff:function(t,e,n){},bd5e:function(t,e,n){"use strict";var i=n("b7ff"),r=n.n(i);r.a},d721:function(t,e,n){"use strict";(function(t){n("b4b3");i(n("66fd"));var e=i(n("20ea"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},f9bf:function(t,e,n){"use strict";n.r(e);var i=n("874e"),r=n("b774");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("bd5e");var a,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);e["default"]=c.exports}},[["d721","common/runtime","common/vendor"]]]);