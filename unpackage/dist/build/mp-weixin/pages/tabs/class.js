(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabs/class"],{"3c1e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("a34a"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,a,i,o,s){try{var r=t[o](s),c=r.value}catch(u){return void n(u)}r.done?e(c):Promise.resolve(c).then(a,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function r(t){o(s,a,i,r,c,"next",t)}function c(t){o(s,a,i,r,c,"throw",t)}r(void 0)}))}}var r=function(){n.e("components/s-switch/s-switch").then(function(){return resolve(n("8044"))}.bind(null,n)).catch(n.oe)},c=function(){Promise.all([n.e("common/vendor"),n.e("components/s-pull-scroll/index")]).then(function(){return resolve(n("57aa"))}.bind(null,n)).catch(n.oe)},u={components:{sPullScroll:c,sSwitch:r},data:function(){return{shop:{name:"",distance:""},defaultValue:0,top:t.getSystemInfoSync()["statusBarHeight"]+54,height:t.getSystemInfoSync()["statusBarHeight"]+100,showLoading:!0,showEmpty:!1,status:"loading",showCategoryIndex:0,showSwitch:1,leftCid:"",page:1,totalPage:1,leftDataList:[],rightDataList:[]}},onLoad:function(){this.$api.setNav("分类"),this.getLeftData()},onShow:function(){this.leftCid=getApp().globalData.leftCid,this.getUserdefaultval(),this.getCartNum()},watch:{leftCid:function(t){var e=this;t&&(this.leftDataList.forEach((function(n,a){t==n.id&&(e.showCategoryIndex=a)})),this.refresh())},leftDataList:{handler:function(t){var e=this;""==this.leftCid?this.leftCid=t[0].id:t.forEach((function(t,n){e.leftCid==t.id&&(e.showCategoryIndex=n)}))},deep:!0}},computed:{open:function(){return t.getStorageSync("open")}},methods:{refresh:function(){var t=this;this.$nextTick((function(){t.$refs.pullScroll.refresh()}))},pullDown:function(t){var e=this;setTimeout((function(){e.getRightData(t)}),200)},switchValue:function(e){console.log(e),t.getStorageSync("uid")?(this.defaultValue=e.key+"",this.$api.navTo("/pages/public/distributionMode?id=".concat(this.defaultValue,"&type=2"))):this.$api.navTo("/pages/index/author")},getUserdefaultval:function(){t.getStorageSync("defaultValue")&&(this.defaultValue=t.getStorageSync("defaultValue")),t.getStorageSync("showSwitch")?this.showSwitch=t.getStorageSync("showSwitch"):this.showSwitch=2,t.getStorageSync("shop")&&(this.shop=t.getStorageSync("shop"))},userOptionsMode:function(){this.switchValue({key:this.defaultValue})},showCategory:function(t,e){this.showCategoryIndex!=e&&(this.leftCid=t,this.showCategoryIndex=e)},getLeftData:function(){var t=this,e={cmd:"getProductCategoryList"};this._reqw.post(e).then((function(e){0==e.result?t.leftDataList=e.body.dataList:t.$api.tip(e.resultNote)})).catch((function(t){}))},getRightData:function(e){var n=this;return s(a.default.mark((function i(){var o,s,r;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1==e.page&&(n.rightDataList=[]),o={cmd:"getProductList",merchantId:t.getStorageSync("merchantId"),categoryId:n.leftCid,uid:t.getStorageSync("uid"),flag:2,nowPage:e.page},console.log(o),s=[],a.next=6,n._reqw.post(o);case 6:if(r=a.sent,0==r.result){a.next=10;break}return n.$api.tip(r.resultNote),a.abrupt("return");case 10:0==r.body.dataList.length?e.empty():r.body.dataList.forEach((function(t){s.push(t)})),n.rightDataList=n.rightDataList.concat(s),e.page>=r.body.totalPage?e.finish():e.success();case 11:case"end":return a.stop()}}),i)})))()},details:function(e){t.getStorageSync("uid")?this.$api.navTo("/pages/details/goodsDetails?id=".concat(e,"&type=5")):this.$api.navTo("/pages/index/author")}}};e.default=u}).call(this,n("543d")["default"])},"458c":function(t,e,n){"use strict";var a=n("cfdb"),i=n.n(a);i.a},7489:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={sSwitch:function(){return n.e("components/s-switch/s-switch").then(n.bind(null,"8044"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.rightDataList,(function(e,n){var a=t.__get_orig(e),i=t._f("parsePrice")(e.price);return{$orig:a,f0:i}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[]},"85ab":function(t,e,n){"use strict";n.r(e);var a=n("3c1e"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"999b":function(t,e,n){"use strict";(function(t){n("b4b3");a(n("66fd"));var e=a(n("a702"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},a702:function(t,e,n){"use strict";n.r(e);var a=n("7489"),i=n("85ab");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("458c");var s,r=n("f0c5"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"40dfad24",null,!1,a["a"],s);e["default"]=c.exports},cfdb:function(t,e,n){}},[["999b","common/runtime","common/vendor"]]]);