(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/bindPhone"],{"2bca":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},r=[]},"4f93":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{phone:"",rTime:"获取验证码",interval:null,btnState:!1,YZM:"",userInfo:{uid:"",openId:"",nickname:"",sex:"",icon:""},showBind:!0}},onLoad:function(){this.code=this.getUrlCode().code,console.log(this.code),""!=this.code&&this.getUserInfo()},methods:{getUrlCode:function(){var t=location.search;this.winUrl=t;var e=new Object;if(-1!=t.indexOf("?"))for(var n=t.substr(1),i=n.split("&"),o=0;o<i.length;o++)e[i[o].split("=")[0]]=i[o].split("=")[1];return e},getUserInfo:function(){var t=this,e={cmd:"wgauthorizationUser",code:this.code};this._reqw.post(e).then((function(e){0==e.result?""!=e.body.uid?t.$api.back():t.userInfo=e.body:t.$api.tip(e.rsultNote)})).catch((function(t){}))},getYZM:function(){var t=this;""==this.phone?this.$api.tip("手机号不能为空!"):this.$api.regPhone(this.phone)?"获取验证码"==this.rTime&&this._reqw.post({cmd:"sendSms",phone:this.phone}).then((function(e){0==e.result?(t.rTime=60,t.btnState=!0,t.interval=setInterval((function(){--t.rTime<=0&&(t.rTime="获取验证码",clearInterval(t.interval),t.btnState=!1)}),1e3),t.$api.tip(e.resultNote)):t.$api.tip(e.resultNote)})).catch((function(t){})):this.$api.tip("请输入正确的手机号!")},subOrder:function(){var e=this;this.$api.loading("提交中...");var n={cmd:"wgbindPhone",phone:this.phone,nickname:this.userInfo.nickname,openid:this.userInfo.openId,inviteCode:getApp().globalData.inviteCode,sex:this.userInfo.sex,icon:this.userInfo.icon,code:this.YZM};""==this.phone?this.$api.tip("手机号不能为空!"):this.$api.regPhone(this.phone)?""==this.YZM?this.$api.tip("请输入验证码"):this._reqw.post(n).then((function(n){0==n.result?(e.$api.tip(n.resultNote),e.$api.back(),getApp().globalData.uid=n.body.uid,t.setStorageSync("uid",n.body.uid)):e.$api.tip(n.resultNote)})).catch((function(t){})):this.$api.tip("请输入正确的手机号!")}},onHide:function(){this.interval&&clearInterval(this.interval)}};e.default=n}).call(this,n("543d")["default"])},"5d61":function(t,e,n){"use strict";var i=n("8f69"),o=n.n(i);o.a},"7b7d":function(t,e,n){"use strict";n.r(e);var i=n("4f93"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"7d38":function(t,e,n){"use strict";n.r(e);var i=n("2bca"),o=n("7b7d");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("5d61");var a,s=n("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"411b3180",null,!1,i["a"],a);e["default"]=u.exports},"8f69":function(t,e,n){},f68b:function(t,e,n){"use strict";(function(t){n("b4b3");i(n("66fd"));var e=i(n("7d38"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["f68b","common/runtime","common/vendor"]]]);