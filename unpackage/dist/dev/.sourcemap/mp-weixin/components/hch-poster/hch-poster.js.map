{"version":3,"sources":["webpack:///D:/lixindom/2020/伊籭商城/beefShop/components/hch-poster/hch-poster.vue?dc32","webpack:///D:/lixindom/2020/伊籭商城/beefShop/components/hch-poster/hch-poster.vue?9bb1","webpack:///D:/lixindom/2020/伊籭商城/beefShop/components/hch-poster/hch-poster.vue?c09b","webpack:///D:/lixindom/2020/伊籭商城/beefShop/components/hch-poster/hch-poster.vue?fc48","uni-app:///components/hch-poster/hch-poster.vue","webpack:///D:/lixindom/2020/伊籭商城/beefShop/components/hch-poster/hch-poster.vue?a3b8","webpack:///D:/lixindom/2020/伊籭商城/beefShop/components/hch-poster/hch-poster.vue?3436"],"names":[],"mappings":"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","file":"components/hch-poster/hch-poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hch-poster.vue?vue&type=template&id=308841a4&scoped=true&\"\nvar renderjs\nimport script from \"./hch-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./hch-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hch-poster.vue?vue&type=style&index=0&id=308841a4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"308841a4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/hch-poster/hch-poster.vue\"\nexport default component.exports","export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=template&id=308841a4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"mask\" v-if=\"showPicker\" @click.stop=\"close\">\r\n\t\t<view class=\"mask\">\r\n\r\n\t\t</view>\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"poster-box y-f\" v-if=\"poster.finalPath\">\r\n\t\t\t\t<image :src=\"poster.finalPath\" mode=\"widthFix\" class=\"posterImage\"></image>\r\n\t\t\t\t<view class=\"share-box\">\r\n\t\t\t\t\t<view class=\"share-list-box uni-flex d-items-center d-content-center d-column\">\r\n\t\t\t\t\t\t<view class=\"share-item uni-flex d-items-center d-content-center d-column\" @tap=\"share\">\r\n\t\t\t\t\t\t\t<image class=\"share-img\" src=\"/static/img/baocun.png\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t\t<view class=\"share-title\">保存图片</view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t\t\t\t<view class=\"share-title\">长按保存到相册</view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"hideCanvasView\">\r\n\t\t\t\t<canvas class=\"hideCanvas\" canvas-id=\"goods_poster\" :style=\"{ width: (poster.width || 1) + 'px', height: (poster.height || 1) + 'px' }\"></canvas>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\tconst bassUrl = require('@/common/js/config.js').bass;\r\n\timport {\r\n\t\tgetSharePoster\r\n\t} from '@/components/poster/QS-SharePoster/QS-SharePoster.js';\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tdataobject: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: [String, Number],\r\n\t\t\t\tdefault: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowPicker: false,\r\n\t\t\t\tposter: {},\r\n\t\t\t\tcanvasId: 'goods_poster',\r\n\t\t\t\tshareInfo: {\r\n\t\t\t\t\tpath: ''\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topen() {\r\n\t\t\t\tthis.showPicker = true;\r\n\t\t\t\tthis.shareFc();\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.showPicker = false;\r\n\t\t\t},\r\n\t\t\tasync shareFc() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tconsole.log( encodeURI(`${bassUrl}/details/share?id=${that.dataobject.id}&type=${this.type}`) )\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconsole.log('准备生成:' + new Date());\r\n\t\t\t\t\tconst d = await getSharePoster({\r\n\t\t\t\t\t\t_this: this, //若在组件中使用 必传\r\n\t\t\t\t\t\ttype: 'goodsPoster',\r\n\t\t\t\t\t\tbackgroundImage: '/static/img/invite_poster.png', //接口返回的背景图\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t//访问接口获取背景图携带自定义数据\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tposterCanvasId: this.canvasId, //canvasId\r\n\t\t\t\t\t\tdelayTimeScale: 20, //延时系数\r\n\t\t\t\t\t\tdrawDelayTime: 500, //draw延时时间\r\n\t\t\t\t\t\tbgScale: 1,\r\n\t\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\t\twidth: uni.getSystemInfoSync().screenWidth,\r\n\t\t\t\t\t\t\theight: uni.getSystemInfoSync().screenHeight * 0.7,\r\n\t\t\t\t\t\t\tbackgroundColor: '#fff'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdrawArray: ({\r\n\t\t\t\t\t\t\tbgObj,\r\n\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\tbgScale\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\tconst dx = bgObj.width * 0.3;\r\n\t\t\t\t\t\t\tconst fontSize = bgObj.width * 0.05;\r\n\t\t\t\t\t\t\tconst lineHeight = bgObj.height * 0.04;\r\n\t\t\t\t\t\t\tconsole.log(bgObj)\r\n\t\t\t\t\t\t\t//可直接return数组，也可以return一个promise对象, 但最终resolve一个数组, 这样就可以方便实现后台可控绘制海报\r\n\t\t\t\t\t\t\treturn new Promise((rs, rj) => {\r\n\t\t\t\t\t\t\t\trs([{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text', //标题\r\n\t\t\t\t\t\t\t\t\t\ttext: '伊赛用心做好每一件商品！',\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize * 0.8,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#343434',\r\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"#CCC\",\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.5 - textLength / 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height * 0.07\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 0\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'image', //头像\r\n\t\t\t\t\t\t\t\t\t\turl: that.dataobject.icon,\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.15,\r\n\t\t\t\t\t\t\t\t\t\tdy: bgObj.width * 0.15,\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(imageInfo) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('index页面的imageInfo的infocallback ，imageInfo:' + JSON.stringify(imageInfo))\r\n\t\t\t\t\t\t\t\t\t\t\tthat.imageHeight = imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdWidth: bgObj.width * 0.7,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdHeight: bgObj.height * 0.55,\r\n\t\t\t\t\t\t\t\t\t\t\t\t// roundRectSet: { // 圆角矩形\r\n\t\t\t\t\t\t\t\t\t\t\t\t// \tr: imageInfo.width * .1\r\n\t\t\t\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text', //昵称\r\n\t\t\t\t\t\t\t\t\t\ttext: that.dataobject.title,\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize*.9,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#343434',\r\n\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'middle',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t//换行\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: bgObj.width * 0.5,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum:2,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height * 0.76,\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\t\t\tid: 'tag1' //自定义标识\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text', //昵称\r\n\t\t\t\t\t\t\t\t\t\ttext: that.dataobject.skuList[0].title,\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize * 0.6,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#9A9A9A',\r\n\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'middle',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t//换行\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: bgObj.width * 0.8,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height * 0.9,\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\t\t\tid: 'tag1' //自定义标识\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text', //昵称\r\n\t\t\t\t\t\t\t\t\t\t// fontStyle: 'italic',//倾斜\r\n\t\t\t\t\t\t\t\t\t\ttext: `已销:${that.dataobject.sales}`,\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize * 0.6,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#666',\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'middle',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.35,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height * 0.9,\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\t\t\tid: 'tag1' //自定义标识\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text', //昵称\r\n\t\t\t\t\t\t\t\t\t\t// fontStyle: 'italic', //倾斜\r\n\t\t\t\t\t\t\t\t\t\ttext: `现价:￥${that.$api.parsePrice(that.dataobject.price) }`,\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize * 0.8,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#FF0000',\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'middle',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t//换行\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: bgObj.width * 0.8,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height * 0.95\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\t\t\tid: 'tag1' //自定义标识\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text', //昵称\r\n\t\t\t\t\t\t\t\t\t\t// fontStyle: 'italic', //倾斜\r\n\t\t\t\t\t\t\t\t\t\ttext: `原价:￥${that.$api.parsePrice(that.dataobject.old_price)}`,\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize * 0.6,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#9A9A9A',\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'middle',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t//换行\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: bgObj.width * 0.8,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.35,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height * 0.95\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\t\t\tid: 'tag1' //自定义标识\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'qrcode', //头像\r\n\t\t\t\t\t\t\t\t\t\t// url: that.dataobject.icon,\r\n\t\t\t\t\t\t\t\t\t\ttext:`${bassUrl}/details/share?id=${that.dataobject.id}&type=${this.type}`,\r\n\t\t\t\t\t\t\t\t\t\tsize:100,\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.65,\r\n\t\t\t\t\t\t\t\t\t\tdy: bgObj.height * 0.7\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text', //标题\r\n\t\t\t\t\t\t\t\t\t\t// fontStyle: 'italic', //倾斜\r\n\t\t\t\t\t\t\t\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\t\t\t\ttext: '扫描二维码去购买',\r\n\t\t\t\t\t\t\t\t\t\t//#endif\r\n\t\t\t\t\t\t\t\t\t\t//#ifdef H5\r\n\t\t\t\t\t\t\t\t\t\ttext: '长按保存到相册',\r\n\t\t\t\t\t\t\t\t\t\t//#endif\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize * 0.6,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#343434',\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'middle',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.66,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height * 0.95\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 0\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsetCanvasWH: ({\r\n\t\t\t\t\t\t\tbgObj,\r\n\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\tbgScale\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\t// 为动态设置画布宽高的方法，\r\n\t\t\t\t\t\t\tthis.poster = bgObj;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log('海报生成成功, 时间:' + new Date() + '， 临时路径: ' + d.poster.tempFilePath);\r\n\t\t\t\t\t// this.poster.finalPath = d.poster.tempFilePath;\r\n\t\t\t\t\tthis.$set(this.poster, 'finalPath', d.poster.tempFilePath);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthis.$api.tip(JSON.stringify(e));\r\n\t\t\t\t\tconsole.log(JSON.stringify(e));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 分享\r\n\t\t\tshare() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\twxsdk.share({\r\n\t\t\t\t\t\ttitle: that.shareInfo.title,\r\n\t\t\t\t\t\tpath: that.shareInfo.path,\r\n\t\t\t\t\t\timageUrl: that.shareInfo.imageUrl\r\n\t\t\t\t\t},\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tthat.$tools.toast('分享成功');\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: that.poster.finalPath,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthat.$api.tip('保存成功');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tthat.$api.tip('保存失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t\tthat.close();\r\n\t\t\t},\r\n\t\t\tcopyLink() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: that.shareInfo.copyLink,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t//#ifdef H5\r\n\t\t\t\t\t\tthat.$tools.toast('已复制到剪切板');\r\n\t\t\t\t\t\t//#endif\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 9999;\r\n\t\tbackground: rgba(0, 0, 0, .3);\r\n\t}\r\n\r\n\t.share-box {\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 20upx 0;\r\n\t\tcolor: #666666;\r\n\t\tfont-size: 26upx;\r\n\t}\r\n\r\n\t.content {\r\n\t\tposition: fixed;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tz-index: 9999;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\t.bg_img {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t.poster-box {\r\n\t\t\t.posterImage {\r\n\t\t\t\twidth: 700upx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.hideCanvasView {\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.hideCanvas {\r\n\t\tposition: fixed;\r\n\t\ttop: -99999upx;\r\n\t\tleft: -99999upx;\r\n\t\tz-index: -99999;\r\n\t}\r\n\r\n\t.share-img {\r\n\t\twidth: 97upx;\r\n\t\theight: 97upx;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&id=308841a4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&id=308841a4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610613120659\n      var cssReload = require(\"D:/迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}