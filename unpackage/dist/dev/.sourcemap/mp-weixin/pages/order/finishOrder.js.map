{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/lixindom/2020/伊籭商城/beefShop/pages/order/finishOrder.vue?68df","webpack:///D:/lixindom/2020/伊籭商城/beefShop/pages/order/finishOrder.vue?af96","webpack:///D:/lixindom/2020/伊籭商城/beefShop/pages/order/finishOrder.vue?7b6f","uni-app:///pages/order/finishOrder.vue","webpack:///D:/lixindom/2020/伊籭商城/beefShop/pages/order/finishOrder.vue?0f10","webpack:///D:/lixindom/2020/伊籭商城/beefShop/pages/order/finishOrder.vue?b98f"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yG;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACc;;;AAGxE;AAC8K;AAC9K,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3FA;AAAA;AAAA;AAAA;AAA+pB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2JnrB;AACA;AACA,sBADA;AAEA,wBAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,oBADA,EACA;AACA,eAFA,EAEA;AACA,kBAHA;AAIA,sBAJA,EAIA;AACA,mBALA,EAKA;AACA,wBANA,EAMA;AACA,iBAPA,EAOA;AACA,2BARA;AASA,iBATA,EASA;AACA;AACA,cADA,EACA;AACA,iBAFA,EAEA;AACA,gBAHA,EAGA;AACA,mBAJA,EAIA;AACA,eALA,EAKA;AACA,eANA,EAMA;AACA,eAPA,EAOA;AACA,qBARA,EAQA;AACA,8BATA,CASA;AATA,OAVA;AAqBA;AACA,sBADA,EACA;AACA,uBAFA;AAGA,sBAHA,EAGA;AACA,oBAJA,EAIA;AACA,qBALA,EAKA;AACA,gBANA,EAMA;AACA,oBAPA,EAOA;AACA,mBARA,CAQA;AARA,OArBA;AA+BA,kBA/BA;AAgCA,qBAhCA,EAgCA;AACA,kBAjCA;AAkCA,gBAlCA;AAmCA,cAnCA;AAoCA,iBApCA;AAqCA,iBArCA;;AAuCA,GA7CA;AA8CA;AACA,QADA,kBACA;AACA;AACA,KAHA;AAIA,aAJA,uBAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAXA;AAYA,cAZA,wBAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KA5BA,EA9CA;;;;AA8EA,QA9EA,kBA8EA,OA9EA,EA8EA;AACA;AACA;AACA;AACA;AACA,GAnFA;AAoFA,QApFA,oBAoFA;AACA;AACA,GAtFA;AAuFA;AACA;AACA,aADA,mBACA,CADA,EACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,OAPA;AAQA,gBARA,EADA;;AAWA;AACA,aADA,mBACA,CADA,EACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,OAPA;AAQA,gBARA,EAXA;;AAqBA;AACA,aADA,mBACA,CADA,EACA;AACA;AACA;AACA;AACA,OALA;AAMA,gBANA,EArBA;;AA6BA,cA7BA,sBA6BA,CA7BA,EA6BA;AACA;AACA;AACA,KAhCA,EAvFA;;AAyHA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA,WALA;AAMA;AACA,OAfA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA;;AAgBA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAnCA;AAoCA;AACA,KAxDA;AAyDA,kBAzDA,4BAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxEA;AAyEA;AACA,iBA1EA,yBA0EA,KA1EA,EA0EA,GA1EA,EA0EA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,8BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA,yCADA;AAEA,+CAFA;AAGA,yCAHA;;AAKA,SAbA;AAcA;AACA;AACA,SAFA;AAGA;AACA;;AAEA,KAnGA;AAoGA,eApGA,uBAoGA,UApGA,EAoGA,CApGA,EAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlIA;AAmIA;AACA,iBApIA,yBAoIA,KApIA,EAoIA,IApIA,EAoIA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,8BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA,yCADA;AAEA,+CAFA;AAGA,yCAHA;;AAKA,SAfA;AAgBA;AACA;AACA,SAFA;;AAIA;AACA;AACA,KA/JA;AAgKA;AACA,cAjKA,wBAiKA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KA1KA;AA2KA,eA3KA,yBA2KA;AACA;AACA;AACA,OAFA;AAGA,KA/KA;AAgLA;AACA,eAjLA,yBAiLA;AACA;AACA,yBADA;AAEA,+BAFA;AAGA,oDAHA;;AAKA;AACA;AACA,OAFA,EAEA,KAFA,CAEA,iBAFA;AAGA,KA1LA;AA2LA;AACA,aA5LA,uBA4LA;AACA;AACA,0BADA;AAEA,oDAFA;AAGA,gDAHA;;AAKA;AACA;AACA,OAFA,EAEA,KAFA,CAEA,iBAFA;AAGA,KArMA;AAsMA,UAtMA,oBAsMA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KA7MA;AA8MA;AACA,mBA/MA,6BA+MA;AACA;AACA;AACA,kCADA;AAEA,sCAFA;AAGA,qDAHA;;AAKA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,KAFA,CAEA,iBAFA;AAGA,KA5NA;AA6NA,gBA7NA,wBA6NA,GA7NA,EA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAdA;AAeA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;;AAEA,KA7PA;AA8PA,eA9PA,yBA8PA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAtQA;AAuQA;AACA,cAxQA,wBAwQA;AACA;AACA,gCADA;AAEA,sCAFA;;AAIA;AACA,UADA,CACA,MADA;AAEA,UAFA,CAEA;AACA;AACA;AACA,OALA;AAMA,WANA,CAMA,iBANA;AAOA,KApRA;AAqRA,gBArRA,0BAqRA;AACA;AACA;AACA;AACA;AACA,KA1RA;AA2RA;AACA,cA5RA,wBA4RA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,sCADA;AAEA,6BAFA;AAGA,qDAHA;AAIA,oCAJA;AAKA,+BALA;AAMA,iCANA;AAOA,sDAPA;AAQA,4BARA;AASA,wBATA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UADA,CACA,MADA;AAEA,UAFA,CAEA;AACA;AACA,mBADA,oBACA,mBADA;AAEA,wCAFA;AAGA,OANA;AAOA,WAPA,CAOA,iBAPA;AAQA,KArUA,EAzHA,E;;;;;;;;;;;;;AC3JA;AAAA;AAAA;AAAA;AAAgtC,CAAgB,+jCAAG,EAAC,C;;;;;;;;;;;ACApuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/finishOrder.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/finishOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./finishOrder.vue?vue&type=template&id=2b8075de&\"\nvar renderjs\nimport script from \"./finishOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./finishOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./finishOrder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/finishOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./finishOrder.vue?vue&type=template&id=2b8075de&\"","var components\ntry {\n  components = {\n    uniSteps: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-steps/uni-steps\" */ \"@/components/uni-steps/uni-steps.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.allCartList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var l0 = _vm.__map(item.dataList, function(v, k) {\n      var $orig = _vm.__get_orig(v)\n\n      var f0 = _vm._f(\"parsePrice\")(v.price)\n\n      return {\n        $orig: $orig,\n        f0: f0\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l0: l0\n    }\n  })\n\n  var f1 =\n    _vm.compline.id != \"\" && !_vm.showNoCompline\n      ? _vm._f(\"parsePrice\")(\n          _vm.compline.use_type == 1 ? _vm.compline.amount : _vm.compline.money\n        )\n      : null\n\n  var f2 = _vm._f(\"parsePrice\")(_vm.goodsoldPrice)\n\n  var f3 =\n    _vm.differencePrice != 0 ? _vm._f(\"parsePrice\")(_vm.differencePrice) : null\n  var f4 = _vm.freight != 0 ? _vm._f(\"parsePrice\")(_vm.freight) : null\n  var f5 = _vm.totalPrice != 0 ? _vm._f(\"parsePrice\")(_vm.totalPrice) : null\n  var f6 =\n    _vm.send_type == 2 && _vm.livePrice != 0\n      ? _vm._f(\"parsePrice\")(_vm.shopInfo.startmoney)\n      : null\n  var f7 =\n    _vm.send_type == 2 && _vm.livePrice != 0\n      ? _vm._f(\"parsePrice\")(_vm.livePrice)\n      : null\n  var f8 = _vm.totalPrice != 0 ? _vm._f(\"parsePrice\")(_vm.totalPrice) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1,\n        f1: f1,\n        f2: f2,\n        f3: f3,\n        f4: f4,\n        f5: f5,\n        f6: f6,\n        f7: f7,\n        f8: f8\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./finishOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./finishOrder.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\" style=\"padding-bottom:60px;\">\r\n\t\t<uni-steps :options=\"[{title: '选择商品'}, {title: '参与拼团'}, {title: '人满成团'}]\" :active=\"3\" v-if=\"type==1\"></uni-steps>\r\n\t\t<!-- // 1：自提2：外卖3：邮寄 -->\r\n\t\t<view class=\"\" v-if=\"send_type==1\">\r\n\t\t\t<!-- 地址 -->\r\n\t\t\t<view class=\"address-section\">\r\n\t\t\t\t<view class=\"order-content\">\r\n\t\t\t\t\t<view class=\"uni-flex d-items-center uni-flex-item \">\r\n\t\t\t\t\t\t<image src=\"/static/img/shouyedizhi.png\" mode=\"\" style=\"width: 27upx;height: 27upx;margin-right: 30upx;\"></image>\r\n\t\t\t\t\t\t<view class=\"cen\">\r\n\t\t\t\t\t\t\t<view class=\"top uni-flex\">\r\n\t\t\t\t\t\t\t\t<view class=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t<text>{{shop.address}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"cell-tit\">{{shop.distance}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"sub-user-btn\">\r\n\t\t\t\t\t\t自提\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<block v-else>\r\n\t\t\t<view class=\"\" v-if=\"addressData.id!=''\">\r\n\t\t\t\t<!-- 地址 -->\r\n\t\t\t\t<view class=\"address-section\" @click=\"choseAddress\">\r\n\t\t\t\t\t<view class=\"tips-btn\">\r\n\t\t\t\t\t\t{{send_type==1?\"外送\":\"收件人信息\"}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-content\">\r\n\t\t\t\t\t\t<view class=\"uni-flex d-items-center uni-flex-item \">\r\n\t\t\t\t\t\t\t<image src=\"/static/img/shouyedizhi.png\" mode=\"\" style=\"width: 27upx;height: 27upx;margin-right: 30upx;\"></image>\r\n\t\t\t\t\t\t\t<view class=\"cen\">\r\n\t\t\t\t\t\t\t\t<view class=\"top uni-flex\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{addressData.name}}</text><text>{{addressData.sex==0?'女士':'先生'}}</text> <text style=\"margin-left: 15px;\">{{addressData.phone}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"cell-tit\">{{addressData.province_city_town}}{{addressData.address}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"uni-icon uni-icon-arrowright\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"noAddress con-bg\" @click=\"choseAddress\" v-else>\r\n\t\t\t\t<view class=\"mobile address-tit\">\r\n\t\t\t\t\t选择您的收货地址\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-icon uni-icon-arrowright\"></view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<view class=\"goods-section con-bg\">\r\n\t\t\t<!-- 商品列表 -->\r\n\t\t\t<view v-for=\"(item,index) in allCartList\" :key=\"index\">\r\n\t\t\t\t<view class=\"g-con\" v-for=\"(v,k) in item.dataList\" :key=\"k\">\r\n\t\t\t\t\t<view class=\"g-item\">\r\n\t\t\t\t\t\t<view class=\"product-img lazyload lazypic\" :class=\"{loaded: v.loaded}\">\r\n\t\t\t\t\t\t\t<image :src=\"v.image\" mode=\"aspectFill\" lazy-load=\"true\" @load=\"imageOnLoad(v)\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t<text class=\"title clamp\">{{v.title}}</text>\r\n\t\t\t\t\t\t\t<view style=\"margin: 5px 0;\">\r\n\t\t\t\t\t\t\t\t<text class=\"spec uni-ellipsis\">{{v.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"price-box\">\r\n\t\t\t\t\t\t\t\t<view class=\"price\">￥{{v.price | parsePrice}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t× {{v.qty}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"uni-flex d-items-center\">\r\n\t\t\t\t\t\t<view class=\"youhui_item\" v-if=\"v.acountPrice\">\r\n\t\t\t\t\t\t\t{{v.acountPrice}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"youhui_item\" v-if=\"v.mz_title\">\r\n\t\t\t\t\t\t\t{{v.mz_title}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-flex d-items-center\">\r\n\t\t\t\t\t<view class=\"youhui_item\" v-if=\"item.acountPrice\">\r\n\t\t\t\t\t\t{{item.acountPrice}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"youhui_item\" v-if=\"item.mz_title\">\r\n\t\t\t\t\t\t{{item.mz_title}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 金额明细 -->\r\n\t\t<view class=\"uni-flex d-between d-items-center con-bg\" @click=\"getCompline\">\r\n\t\t\t<text class=\"cell-tip\">优惠券</text>\r\n\t\t\t<view class=\"\" style=\"display: flex;align-items: center;\">\r\n\t\t\t\t<text v-if=\"compline.id==''&& !showNoCompline\" style=\"font-size: 24rpx;color: #666666;\">请选择</text>\r\n\t\t\t\t<text v-if=\"compline.id!=''&& !showNoCompline\" style=\"font-size: 24rpx;color: #fe2c2c;\">\r\n\t\t\t\t\t-￥{{compline.use_type==1?compline.amount:compline.money | parsePrice}}</text>\r\n\t\t\t\t<text v-if=\"showNoCompline\" style=\"font-size: 24rpx;color: #666666;\">暂无可用</text>\r\n\t\t\t\t<view class=\"uni-icon uni-icon-arrowright\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"uni-flex d-between d-items-center con-bg\">\r\n\t\t\t<text class=\"cell-tip\">商品金额</text>\r\n\t\t\t<view class=\"cell-tit\" style=\"color:#fe2c2c;font-size:26upx;\">￥{{goodsoldPrice | parsePrice}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"uni-flex d-between d-items-center con-bg\" v-if=\"differencePrice!=0\">\r\n\t\t\t<text class=\"cell-tip\">优惠金额</text>\r\n\t\t\t<view class=\"cell-tit\" style=\"color:#fe2c2c;font-size:26upx;\">-￥{{differencePrice | parsePrice}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"uni-flex d-between d-items-center con-bg\" v-if=\"freight!=0\">\r\n\t\t\t<text class=\"cell-tip\">配送费</text>\r\n\t\t\t<view class=\"cell-tit\" style=\"color:#fe2c2c;font-size:26upx;\">￥{{freight | parsePrice}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"uni-flex d-between d-items-center con-bg\" v-if=\"showz_p\">\r\n\t\t\t<text class=\"cell-tip\">赠品</text>\r\n\t\t\t<view class=\"cell-tit\" style=\"color:#fe2c2c;font-size:26upx;\">{{title}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"uni-flex d-between d-items-center con-bg\" v-if=\"totalPrice!=0\">\r\n\t\t\t<text class=\"cell-tip\">合计</text>\r\n\t\t\t<view class=\"cell-tit\" style=\"color:#fe2c2c;font-size:26upx;\">\r\n\t\t\t\t￥{{totalPrice | parsePrice}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"uni-flex d-items-center con-bg\" v-if=\"send_type==2&& livePrice!=0\">\r\n\t\t\t<text class=\"cell-tip\" style=\"color:#fe2c2c;font-size:24upx;\">起送价￥{{shopInfo.startmoney|parsePrice}},</text>\r\n\t\t\t<view class=\"cell-tit\" style=\"color:#fe2c2c;font-size:24upx;\">距配送还差￥{{livePrice | parsePrice}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"remak-con\">\r\n\t\t\t<textarea value=\"\" v-model=\"remarks\" maxlength='400' class=\"textarea\" placeholder=\"备注特殊要求\" placeholder-style=\"color:#666666\" />\r\n\t\t\t</view>\r\n\r\n\t\t<!-- </view> -->\r\n\r\n\t\t<!-- 底部 -->\r\n\t\t<view class=\"footer\">\r\n\t\t\t<view class=\"price-content\" v-if=\"totalPrice!=0\">\r\n\t\t\t\t<text class=\"price-tip\" >￥</text>\r\n\t\t\t\t<text class=\"price\">{{ totalPrice | parsePrice  }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"price-content\" v-else></view>\r\n\t\t\t<text class=\"submit\" @click=\"submit\" hover-class=\"btn-hover\">提交订单</text>\r\n\t\t</view>\r\n\t\t<home-pounp type=\"5\" ref=\"homePounp\" :address=\"shop.address\" @click=\"userConfirm\"></home-pounp>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniSteps from '@/components/uni-steps/uni-steps.vue'\r\n\timport homePounp from \"@/components/mycom/homePoup.vue\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniSteps,\r\n\t\t\thomePounp\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowz_p:false, //  是否展示增品\r\n\t\t\t\ttitle:'', //  赠品\r\n\t\t\t\tsend_type: 2,\r\n\t\t\t\tgoodsoldPrice:0, //  商品初始价格\r\n\t\t\t\tgoodsPrice:0,   //  商品活动后价格\r\n\t\t\t\tdifferencePrice:0, //  差价\r\n\t\t\t\tdistance: 0, // 下单位置 居  店铺距离\r\n\t\t\t\tshowNoCompline:false,\r\n\t\t\t\tisActive:0,   //   店铺 是否活动\r\n\t\t\t\taddressData: {\r\n\t\t\t\t\tid: \"\", //123\r\n\t\t\t\t\tphone: \"\", //手机号\r\n\t\t\t\t\tname: \"\", // 名字\r\n\t\t\t\t\taddress: \"\", //地址\r\n\t\t\t\t\tsex: \"\", //性别（1：男0：女）\r\n\t\t\t\t\tlon: \"\", //经度\r\n\t\t\t\t\tlat: \"\", //纬度\r\n\t\t\t\t\tisdefault: \"\", //是否默认 0否 1是\r\n\t\t\t\t\tprovince_city_town: \"\", //省市区\r\n\t\t\t\t},\r\n\t\t\t\tshopInfo: {\r\n\t\t\t\t\tstartmoney:'',  //   起送价\r\n\t\t\t\t\tmerchanttype: 1,\r\n\t\t\t\t\tbydistance: \"\", //包邮距离merchanttype=1\r\n\t\t\t\t\tby_money: \"\", //超过*公里每公里多少钱merchanttype=1\r\n\t\t\t\t\tman_money: \"\", //满多少包邮merchanttype=4\r\n\t\t\t\t\tyuan: \"\", //类型 是否偏远地区1：是2：否 merchanttype=4\r\n\t\t\t\t\tfp_money: \"\", //非偏远地区运费merchanttype=4yuan=2\r\n\t\t\t\t\tp_money: \"\" //偏远地区运费merchanttype=4yuan=2\r\n\t\t\t\t},\r\n\t\t\t\tdataList: [],\r\n\t\t\t\tallCartList:[],   //  同类普通商品\r\n\t\t\t\tcompline: {},\r\n\t\t\t\tfreight: 0,\r\n\t\t\t\ttype: '',\r\n\t\t\t\tremarks: '',\r\n\t\t\t\tgroupId:\"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tshop() {\r\n\t\t\t\treturn uni.getStorageSync('shop')\r\n\t\t\t},\r\n\t\t\tlivePrice(){\r\n\t\t\t\tlet price=0;\r\n\t\t\t\tif(this.goodsPrice!=0){\r\n\t\t\t\t\tprice=Number(this.shopInfo.startmoney) -Number(this.goodsPrice)\r\n\t\t\t\t}\r\n\t\t\t\tprice<0?price=0:price;\r\n\t\t\t\treturn price\r\n\t\t\t},\r\n\t\t\ttotalPrice(){\r\n\t\t\t\tlet price=0;\r\n\t\t\t\tif(this.goodsPrice!=0){\r\n\t\t\t\t\tprice+=Number(this.goodsPrice)\r\n\t\t\t\t}\r\n\t\t\t\tif(this.freight!=0){\r\n\t\t\t\t\tprice+=Number(this.freight)\r\n\t\t\t\t}\r\n\t\t\t\tif(this.compline.id){\r\n\t\t\t\t\tif(this.compline.use_type==1){\r\n\t\t\t\t\t\tprice-=Number(this.compline.amount) \r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tprice-=Number(this.compline.money)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn price\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tthis.dataList = JSON.parse(decodeURIComponent(options.goods));\r\n\t\t\tthis.type = options.type;\r\n\t\t\tthis.getUserBuyType();\r\n\t\t\tthis.filterItem();\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tthis.groupId='';\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tdataList:{\r\n\t\t\t\thandler(n) {\r\n\t\t\t\t\tlet price=0;\r\n\t\t\t\t\tn.forEach(item => {\r\n\t\t\t\t\t\tprice += (item.price * 100) * item.qty;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.goodsoldPrice=price / 100;\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t\tallCartList:{\r\n\t\t\t\thandler(n) {\r\n\t\t\t\t\tlet price=0;\r\n\t\t\t\t\tn.forEach(item => {\r\n\t\t\t\t\t\tprice +=Number(item.totalPrice);\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.goodsPrice=price;\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t\taddressData: {\r\n\t\t\t\thandler(n) {\r\n\t\t\t\t\tif(this.send_type!=3){\r\n\t\t\t\t\t\tthis.getdistance()\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t\tgoodsPrice(n){\r\n\t\t\t\t\tthis.getUserCompline();\r\n\t\t\t\t\tthis.differencePrice=this.goodsoldPrice-n;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t filterItem(){ \r\n\t\t\t\t\t var obj={},newArr=[];\r\n\t\t\t\t\t     this.dataList.forEach(function(item,suffix){\r\n\t\t\t\t\t         //根据对象的属性是唯一的，将值作为对象的属性名\r\n\t\t\t\t\t         if(!obj[item.categoryId]){\r\n\t\t\t\t\t             var arr=[];\r\n\t\t\t\t\t             arr.push(item);\r\n\t\t\t\t\t             newArr.push(arr);\r\n\t\t\t\t\t             obj[item.categoryId]=item;\r\n\t\t\t\t\t         }else{\r\n\t\t\t\t\t             newArr.forEach(function(value,index){\r\n\t\t\t\t\t                 //如果已经存在  就循环新组的值将值插入属性相同的数组里   为了防止重复添加   只要和第一个比较就可以了\r\n\t\t\t\t\t                 if(value[0].categoryId==item.categoryId){\r\n\t\t\t\t\t                     value.push(item)\r\n\t\t\t\t\t                 }\r\n\t\t\t\t\t             })\r\n\t\t\t\t\t         }\r\n\t\t\t\t\t     })\r\n\t\t\t\t\t\t newArr.forEach(item=>{\r\n\t\t\t\t\t\t\t console.log(item)\r\n\t\t\t\t\t\t\t item.dataList=item;\r\n\t\t\t\t\t\t\t item.goodsPrice=0;\r\n\t\t\t\t\t\t\t item.totalPrice=0;\r\n\t\t\t\t\t\t\t item.childTotalPrice=0;\r\n\t\t\t\t\t\t\t item.forEach(e=>{\r\n\t\t\t\t\t\t\t\t e.goodsprice=e.price*e.qty;\r\n\t\t\t\t\t\t\t\t const priceobj=this.getgoodsPrice(e.goodsprice,e.merchantReductionList);\r\n\t\t\t\t\t\t\t\t if(!priceobj){\r\n\t\t\t\t\t\t\t\t \te.totalPrice=e.goodsprice;\r\n\t\t\t\t\t\t\t\t \te.acountPrice=0;\r\n\t\t\t\t\t\t\t\t\te.mz_title='';\r\n\t\t\t\t\t\t\t\t }else{\r\n\t\t\t\t\t\t\t\t \te.totalPrice=priceobj.price;\r\n\t\t\t\t\t\t\t\t \te.acountPrice=priceobj.acountPrice;\r\n\t\t\t\t\t\t\t\t\te.mz_title=priceobj.mz_title;\r\n\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t\t item.goodsPrice+=e.price*e.qty;\r\n\t\t\t\t\t\t\t\t  item.childTotalPrice+=Number(e.totalPrice);\r\n\t\t\t\t\t\t\t })\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t const obj=this.getClassPrice(item.goodsPrice,item);\r\n\t\t\t\t\t\t\t if(!obj){\r\n\t\t\t\t\t\t\t \titem.totalPrice=item.goodsPrice;\r\n\t\t\t\t\t\t\t \titem.acountPrice=0;\r\n\t\t\t\t\t\t\t \titem.mz_title='';\r\n\t\t\t\t\t\t\t }else{\r\n\t\t\t\t\t\t\t \titem.totalPrice=obj.price;\r\n\t\t\t\t\t\t\t \titem.acountPrice=obj.acountPrice;\r\n\t\t\t\t\t\t\t \titem.mz_title=obj.mz_title;\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t if(item.childTotalPrice<item.totalPrice){\r\n\t\t\t\t\t\t\t\t item.totalPrice=item.childTotalPrice;\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t })\r\n\t\t\t\t\t\t this.allCartList=newArr;\r\n\t\t\t},\r\n\t\t\tgetUserBuyType() {\r\n\t\t\t\t// 1：自提2：外卖3：邮寄\r\n\t\t\t\tif (uni.getStorageSync('open') == 2) {\r\n\t\t\t\t\tthis.send_type = 3;\r\n\t\t\t\t\tthis.getDefault();\r\n\t\t\t\t\tthis.getFirget();\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (uni.getStorageSync('defaultValue')) {\r\n\t\t\t\t\tuni.getStorageSync('defaultValue')==0?this.send_type=1:this.send_type=2\r\n\t\t\t\t}\r\n\t\t\t\tif (this.send_type !=1) {\r\n\t\t\t\t\tthis.getDefault();\r\n\t\t\t\t\tthis.getFirget();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//根据店铺 活动 计算  商品价格  \r\n\t\t\tgetgoodsPrice(price,arr) {\r\n\t\t\t\tif(arr.length==0){\r\n\t\t\t\t\treturn false \r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet pricearray=[];\r\n\t\t\t\t\t\tarr.forEach(e=>{\r\n\t\t\t\t\t\t\tlet  youhui_obj={\r\n\t\t\t\t\t\t\t\tprice:price*100,\r\n\t\t\t\t\t\t\t\tacountPrice:0,\r\n\t\t\t\t\t\t\t\tmz_title:''\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t// \"type\"://类型（1：满*钱包邮2：满*钱减*钱3：第*件*几折4：满*钱增商品5：每满*钱减*钱）\r\n\t\t\t\t\t\t\t\tyouhui_obj=this.filterPrice(youhui_obj,e)\r\n\t\t\t\t\t\t\t\tpricearray.push({\r\n\t\t\t\t\t\t\t\t\tprice:youhui_obj.price/100,\r\n\t\t\t\t\t\t\t\t\tacountPrice:youhui_obj.acountPrice,\r\n\t\t\t\t\t\t\t\t\tmz_title:youhui_obj.mz_title\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\t\r\n\t\t\t\t\tlet endprice=pricearray.sort((c,d)=>{\r\n\t\t\t\t\t\t\treturn c.price - d.price;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn  endprice[0] \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tfilterPrice(youhui_obj,e){\r\n\t\t\t\tif(e.type==2){\r\n\t\t\t\t\tif(youhui_obj.price>=e.mj_price*100){\r\n\t\t\t\t\t\tyouhui_obj.price-=e.mj_amount*100;\r\n\t\t\t\t\t\tyouhui_obj.acountPrice=`满${e.mj_price}元减${e.mj_amount}元`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(e.type==3){\r\n\t\t\t\t\tif(obj.qty>=e.dz_number){\r\n\t\t\t\t\t\tlet n=Math.floor(obj.qty/e.dz_number);\r\n\t\t\t\t\t\tyouhui_obj.price =Number(obj.price) * 100 * (obj.qty-n)+Number(n*(obj.price*100)*e.jz_amount/10) ;\r\n\t\t\t\t\t\tyouhui_obj.acountPrice=`第${e.dz_number}件${e.jz_amount}折`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(e.type==4){\r\n\t\t\t\t\tif(youhui_obj.price>=e.mz_price*100){\r\n\t\t\t\t\t\tthis.title=e.zp_title;\r\n\t\t\t\t\t\tthis.showz_p=true;\r\n\t\t\t\t\t\tyouhui_obj.mz_title=`满${e.mz_price}元增${e.zp_title}`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(e.type==5){\r\n\t\t\t\t\tif(youhui_obj.price>=e.mm_price*100){\r\n\t\t\t\t\t\tlet n=Math.floor(youhui_obj.price/(e.mm_price*100))\r\n\t\t\t\t\t\tyouhui_obj.price-=n*e.mm_amount*100\r\n\t\t\t\t\t\tyouhui_obj.acountPrice=`每满${e.mm_price}元减${e.mm_amount}元`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn youhui_obj\r\n\t\t\t},\r\n\t\t\t//   同类型商品价格\r\n\t\t\tgetClassPrice(price,arry){\r\n\t\t\t\tlet pricearray=[],arr=arry.dataList[0].merchantReductionList;\r\n\t\t\t\tif(arr.lenght==0){\r\n\t\t\t\t\treturn  false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tarr.forEach(e=>{\r\n\t\t\t\t\t\t\tlet  youhui_obj={\r\n\t\t\t\t\t\t\t\tprice:price*100,\r\n\t\t\t\t\t\t\t\tacountPrice:0,\r\n\t\t\t\t\t\t\t\tmz_title:''\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tif(e.use_type==2){\r\n\t\t\t\t\t\t\t\t// \"type\"://类型（1：满*钱包邮2：满*钱减*钱3：第*件*几折4：满*钱增商品5：每满*钱减*钱）\r\n\t\t\t\t\t\t\tyouhui_obj=this.filterPrice(youhui_obj,e)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tpricearray.push({\r\n\t\t\t\t\t\t\t\t\tprice:youhui_obj.price/100,\r\n\t\t\t\t\t\t\t\t\tacountPrice:youhui_obj.acountPrice,\r\n\t\t\t\t\t\t\t\t\tmz_title:youhui_obj.mz_title\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\t\r\n\t\t\t\t\tlet endprice=pricearray.sort((c,d)=>{\r\n\t\t\t\t\t\t\treturn c.price - d.price;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn  endprice[0] \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//   计算运费\r\n\t\t\tfromFright() {\r\n\t\t\t\tlet type = this.shopInfo.merchanttype;\r\n\t\t\t\tif (type == 1 || type==4) {\r\n\t\t\t\t\tif (this.distance<= this.shopInfo.bydistance*1000) {\r\n\t\t\t\t\t\tthis.freight = 0\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.freight =(this.distance-(this.shopInfo.bydistance*1000)) * (100 * this.shopInfo.by_money) /100/1000\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuserConfirm() {\r\n\t\t\t\tthis.throttle(() => {\r\n\t\t\t\tthis.getOrderId()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//    外送   邮递  获取  距离\r\n\t\t\tgetdistance() {\r\n\t\t\t\tlet e = {\r\n\t\t\t\t\tcmd: 'getDitance',\r\n\t\t\t\t\tid: this.addressData.id,\r\n\t\t\t\t\tmerchantId: uni.getStorageSync('merchantId')\r\n\t\t\t\t}\r\n\t\t\t\tthis._reqw.post(e).then(res => {\r\n\t\t\t\t\tres.result == 0 ? (this.distance = res.body.distance,this.fromFright()) : this.$api.tip(res.resultNote)\r\n\t\t\t\t}).catch(err => {})\r\n\t\t\t},\r\n\t\t\t//    获取店铺   邮费\r\n\t\t\tgetFirget() {\r\n\t\t\t\tlet e = {\r\n\t\t\t\t\tcmd: 'getSendRate',\r\n\t\t\t\t\tmerchantId: uni.getStorageSync('merchantId'),\r\n\t\t\t\t\tprovince: uni.getStorageSync('province')\r\n\t\t\t\t}\r\n\t\t\t\tthis._reqw.post(e).then(res => {\r\n\t\t\t\t\tres.result == 0 ? this.shopInfo = res.body: this.$api.tip(res.resultNote)\r\n\t\t\t\t}).catch(err => {})\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tif (this.send_type !=1) {\r\n\t\t\t\t\tthis.addressData.id == '' ? this.$api.tip('请选择收货地址!') : this.getOrderId();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$refs.homePounp.open();\r\n\t\t\t\t\t// this.getOrderId()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//   获取可用 优惠券\r\n\t\t\tgetUserCompline() {\r\n\t\t\t\t// （1：拼团2：秒杀3：活动4：积分5：普通）\r\n\t\t\t\tlet e = {\r\n\t\t\t\t\tcmd: 'getMemberCouponList',\r\n\t\t\t\t\tuid: uni.getStorageSync('uid'),\r\n\t\t\t\t\tmerchant_id: uni.getStorageSync('merchantId'),\r\n\t\t\t\t}\r\n\t\t\t\tif(this.type!='cart'){\r\n\t\t\t\t\te.product_id=this.dataList[0].product_id\r\n\t\t\t\t}\r\n\t\t\t\tthis._reqw.post(e).then(res => {\r\n\t\t\t\t\tres.result == 0 ? this.fromCompline(res.body) : this.$api.tip(res.resultNote)\r\n\t\t\t\t}).catch(err => {})\r\n\t\t\t},\r\n\t\t\tfromCompline(res) {\r\n\t\t\t\tlet  newArray=[];\r\n\t\t\t\tif(res.dataList.length==0){\r\n\t\t\t\t\tthis.showNoCompline=true;\r\n\t\t\t\t\treturn \r\n\t\t\t\t}\r\n\t\t\t\tres.dataList.forEach(item => {\r\n\t\t\t\t\t// \"use_type\":\"\",// 使用类型（1：满减2：无门槛）\r\n\t\t\t\t\tif(item.use_type==1){\r\n\t\t\t\t\t\tif(Number(this.goodsPrice)>=Number(item.price)){\r\n\t\t\t\t\t\t\t\tnewArray.push(item) \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n                    if(item.use_type==2){\r\n\t\t\t\t\t\t   // \"use_type\":\"\",// 使用类型（1：满减2：无门槛）\r\n\t\t\t\t\t\t if(Number(this.goodsPrice)>Number(item.money)){\r\n\t\t\t\t\t\t\t item.amount=item.money;\r\n\t\t\t\t\t\t\t newArray.push(item) \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t }\r\n\t\t\t\t})\r\n\t\t\t\tif(newArray.length!=0){\r\n\t\t\t\t\tlet endprice=newArray.sort((c,d)=>{\r\n\t\t\t\t\t\treturn d.amount-c.amount; \r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(endprice.length!=0){\r\n\t\t\t\t\t\t\tthis.compline=endprice[0] \r\n\t\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.showNoCompline=true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetCompline() {\r\n\t\t\t\tlet url='';\r\n\t\t\t\tif(this.type=='cart'){\r\n\t\t\t\t\turl=`/pages/mineoptions/canUserCompline?money=${this.goodsPrice}&type=${this.type}`;\r\n\t\t\t\t}else{\r\n\t\t\t\t\turl=`/pages/mineoptions/canUserCompline?money=${this.goodsPrice}&type=${this.type}&id=${this.dataList[0].product_id}`\r\n\t\t\t\t}\r\n\t\t\t\tthis.$api.navTo(url);\r\n\t\t\t},\r\n\t\t\t//  默认地址\r\n\t\t\tgetDefault() {\r\n\t\t\t\tlet parmas = {\r\n\t\t\t\t\tcmd: 'getDefaultAddress',\r\n\t\t\t\t\tuid: uni.getStorageSync('uid')\r\n\t\t\t\t}\r\n\t\t\t\tthis._reqw\r\n\t\t\t\t\t.post(parmas)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tres.result == 0 ? (res.body.id != '' ? this.addressData = res.body : '') : this.$api.tip(res.resultNote);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {});\r\n\t\t\t},\r\n\t\t\tchoseAddress() {\r\n\t\t\t\tif(this.send_type==2){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$api.navTo(`/pages/mineoptions/myAddress?source=1`);\r\n\t\t\t},\r\n\t\t\t// payType  0-直接购买，1-购物车结算\r\n\t\t\tgetOrderId() {\r\n\t\t\t\tlet type=this.type;\r\n\t\t\t\tlet cartId=[];\r\n\t\t\t\tthis.dataList.forEach(item=>{\r\n\t\t\t\t\tcartId.push(item.id)\r\n\t\t\t\t})\r\n\t\t\t\tlet parmas = {\r\n\t\t\t\t\tuid: uni.getStorageSync('uid'),\r\n\t\t\t\t\tmessage: this.remarks,\r\n\t\t\t\t\tmerchant_id: uni.getStorageSync('merchantId'),\r\n\t\t\t\t\tordersMoney:this.totalPrice,\r\n\t\t\t\t\tsendMoney:this.freight,\r\n\t\t\t\t\tsend_type: this.send_type,\r\n\t\t\t\t\tmerchant_reduction_money:this.differencePrice,\r\n\t\t\t\t\tcmd:\"saveCartOrder\",\r\n\t\t\t\t\tcartList: cartId\r\n\t\t\t\t};\r\n\t\t\t\tif(this.send_type==2){\r\n\t\t\t\t\tif(this.livePrice!=0){\r\n\t\t\t\t\t\tthis.$api.tip(`还差${this.livePrice}元起送,在逛逛吧!`);\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.compline.coupon_type==2){\r\n\t\t\t\t\tparmas.member_point_coupon_id=this.compline.id;\r\n\t\t\t\t\tparmas.member_coupon_money=this.compline.amount;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tparmas.member_coupon_id=this.compline.id;\r\n\t\t\t\t\tparmas.member_coupon_money=this.compline.amount;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.send_type !=1) {\r\n\t\t\t\t\tparmas.addressId = this.addressData.id\r\n\t\t\t\t}\r\n\t\t\t\tthis._reqw\r\n\t\t\t\t\t.post(parmas)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tres.result == 0 ? (this.type == 4 && this.totalPrice ==0 ? (this.$api.tip('兑换成功!'),this.$api.redirectTo('/pages/order/index')) : this.$api.redirectTo(\r\n\t\t\t\t\t\t\t\t`/pages/order/payOrder?id=${res.body.id}&money=${res.body.orderMoney}&type=finish`)) :\r\n\t\t\t\t\t\t\tthis.$api.tip(res.resultNote);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.youhui_item{\r\n\t\tmargin-right: 20upx;\r\n\t\tfont-size: 24upx;\r\n\t\tcolor:#fe2c2c;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t.remak-con{\r\n\t\tmargin-top: 20upx;\r\n\t\tbackground: #FFFFFF;\r\n\t}\r\n\t.textarea{\r\n\t\twidth: 100%;\r\n\t\theight: 288upx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 15upx;\r\n\t\tpadding: 20upx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.sub-user-btn {\r\n\t\twidth: 90upx;\r\n\t\tline-height: 40upx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 24upx;\r\n\t\tbackground: #007030;\r\n\t\tborder-radius: 6upx;\r\n\t}\r\n\r\n\t.tips-btn {\r\n\t\twidth: 196upx;\r\n\t\tline-height: 54upx;\r\n\t\ttext-align: center;\r\n\t\tbackground: #E4FFF0;\r\n\t\tborder-radius: 15upx 4upx 4upx 0px;\r\n\t\tfont-size: 26upx;\r\n\t\tcolor: #007030;\r\n\t}\r\n\r\n\t.con-bg {\r\n\t\tpadding:20upx;\r\n\t\tbackground: #FFFFFF;\r\n\t}\r\n\r\n\t.link-con {\r\n\t\tpadding: 30upx 2.5%;\r\n\t\tmargin-top: 10upx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.link-tip {\r\n\t\tfont-size: 30upx;\r\n\t}\r\n\r\n\t.noAddress {\r\n\t\theight: 150upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.input {\r\n\t\theight: 60upx;\r\n\t}\r\n\r\n\t.uni-icon {\r\n\t\tfont-size: 26upx;\r\n\t\tcolor: #666666;\r\n\t}\r\n\r\n\t.cell-tit {\r\n\t\tcolor: #666666;\r\n\t\tfont-size: 24upx;\r\n\t}\r\n\r\n\t.cell-tip {\r\n\t\tcolor: #333;\r\n\t\tfont-size: 26upx;\r\n\t}\r\n\r\n\t.uni-list-cell {\r\n\t\tmargin-top: 20upx;\r\n\t}\r\n\r\n\t.mobile {\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.icon-swiper {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.address-section {\r\n\t\tbackground: #FFFFFF;\r\n\r\n\t\t.order-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding:20upx;\r\n\t\t}\r\n\r\n\t\t.cen {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex: 1;\r\n\t\t\tfont-size: 28upx;\r\n\t\t}\r\n\r\n\t\t.name {\r\n\t\t\tfont-size: 34upx;\r\n\t\t\tmargin-right: 24upx;\r\n\t\t}\r\n\r\n\t\t.address {\r\n\t\t\tmargin-top: 16upx;\r\n\t\t\tmargin-right: 20upx;\r\n\t\t}\r\n\t}\r\n\r\n\t.goods-section {\r\n\t\tmargin-top: 16upx;\r\n\r\n\t\t.g-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 84upx;\r\n\t\t\tpadding: 0 20upx;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.name {\r\n\t\t\tfont-size: 30upx;\r\n\t\t\tmargin-left: 24upx;\r\n\t\t}\r\n\t\t.g-con{\r\n\t\t\t.g-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\t.product-img {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\twidth: 160upx;\r\n\t\t\t\t\theight: 160upx;\r\n\t\t\t\t\timage{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 6upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t.right {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tpadding-left: 24upx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 30upx;\r\n\t\t\t\t\tword-break: break-all;\r\n\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t.spec {\r\n\t\t\t\t\tfont-size: 24upx;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t.price-box {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tfont-size: 32upx;\r\n\t\t\t\t\tmargin-topl: 20upx;\r\n\t\t\t\r\n\t\t\t\t\t.price {\r\n\t\t\t\t\t\tfont-size: 15px;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\tcolor: #fe2c2c;\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\t.number {\r\n\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\tcolor: #111111;\r\n\t\t\t\t\t\tmargin-left: 20upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t.step-box {\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\r\n\t.footer {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 995;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 90upx;\r\n\t\tjustify-content: space-between;\r\n\t\tfont-size: 30upx;\r\n\t\tbackground-color: #fff;\r\n\t\tz-index: 998;\r\n\t\tbox-shadow: 0 -1px 5px rgba(0, 0, 0, 0.1);\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.price-content {\r\n\t\t\tpadding-left: 30upx;\r\n\t\t\tcolor: #F55555;\r\n\t\t}\r\n\r\n\t\t.price-tip {\r\n\t\t\tmargin-left: 8upx;\r\n\t\t}\r\n\r\n\t\t.price {\r\n\t\t\tfont-size: 36upx;\r\n\t\t}\r\n\r\n\t\t.submit {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tbackground-color: #F55555;\r\n\t\t\tcolor: #fff;\r\n\t\t\theight: 90upx;\r\n\t\t\tfont-size: 28upx;\r\n\t\t\twidth: 308upx;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./finishOrder.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./finishOrder.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610614513916\n      var cssReload = require(\"D:/迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}